<div align-center class="command-container">
  <mat-select [(value)]="selectedApplication">
    <ng-scrollbar [compact]="true">
      <mat-option *ngFor="let app of applications" [value]="app">{{app}}</mat-option>
    </ng-scrollbar>
  </mat-select>
  <div class="commands">
    <span *ngIf="!configuring" class="fa fa-cog" (click)="configuring = true" matTooltip="Configure"></span>
    <span *ngIf="configuring" class="fa fa-save" (click)="configuring = false; config.save(projectConfiguring.form.group.value, projectIndex)" matTooltip="Save"></span>
    <span class="fa fa-download" (click)="install()" matTooltip="Pull & Install"></span>
    <span class="fa fa-upload" (click)="push()" matTooltip="Push"></span>
    <span class="fa fa-play" (click)="start()" matTooltip="Start"></span>
  </div>
</div>
<ng-scrollbar class="interface-container" [compact]="true" #scrollbar>
  <app-config *ngIf="configuring" [project]="project" #projectConfiguring></app-config>

  <ng-container *ngIf="!configuring">
    <ng-container *ngFor="let dependency of project.dependencies"  [ngSwitch]="dependency.type">
      <div *ngSwitchCase="DependencyType.Lerna" class="lerna-dependency closed" #accordion>
        <h4 (click)="accordion.classList.toggle('closed'); scrollbar.update()">
        <span class="fa"
              [class.fa-plus]="accordion.classList.contains('closed')"
              [class.fa-minus]="!accordion.classList.contains('closed')"
        ></span>
          {{dependency.name}}
        </h4>

        <mat-checkbox *ngFor="let p of lernaService.packages[dependency.directory]"
                      [disabled]="isPackageLinked(p)"
                      [checked]="isPackageLinked(p)"
                      (click)="link(p)"
        >{{p.name}}</mat-checkbox>
      </div>
      <mat-checkbox *ngSwitchDefault
                    [disabled]="isPackageLinked(dependency)"
                    [checked]="isPackageLinked(dependency)"
                    (click)="link(dependency)"
      >{{dependency.name}}</mat-checkbox>
    </ng-container>
  </ng-container>
</ng-scrollbar>
